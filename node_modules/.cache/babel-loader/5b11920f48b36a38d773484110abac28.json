{"ast":null,"code":"import _defineProperty from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/edit/edit.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport get from \"lodash/get\";\nimport PropTypes from \"prop-types\";\nexport var Edit = /*#__PURE__*/function (_Component) {\n  _inherits(Edit, _Component);\n\n  var _super = _createSuper(Edit);\n\n  function Edit(props) {\n    var _this;\n\n    _classCallCheck(this, Edit);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var id = _this.props.match.params.id;\n\n      _this.setState({\n        submitted: true\n      });\n\n      var _this$state = _this.state,\n          first_name = _this$state.first_name,\n          last_name = _this$state.last_name,\n          avatar = _this$state.avatar; // stop here if form is invalid\n\n      if (!(first_name && last_name && avatar)) {\n        return;\n      } // call saga reducer\n\n\n      _this.props.update(id, first_name, last_name, avatar);\n    };\n\n    _this.state = {\n      first_name: \"\",\n      last_name: \"\",\n      avatar: \"\",\n      submitted: false\n    };\n    return _this;\n  }\n\n  _createClass(Edit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // get user by id\n      var id = this.props.match.params.id;\n      this.props.get(id);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var user = nextProps.user;\n      this.setState({\n        first_name: get(user, \"first_name\", \"\"),\n        last_name: get(user, \"last_name\", \"\"),\n        avatar: get(user, \"avatar\", \"\")\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.props.loading;\n      var _this$state2 = this.state,\n          first_name = _this$state2.first_name,\n          last_name = _this$state2.last_name,\n          submitted = _this$state2.submitted;\n      var title = 'Edit';\n      return /*#__PURE__*/React.createElement(DefaultLayout, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(PublicHead, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        name: \"form\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"first_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 23\n        }\n      }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"first_name\",\n        className: 'form-input' + (submitted && !first_name ? ' error' : ''),\n        value: first_name,\n        onChange: this.handleChange,\n        disabled: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 23\n        }\n      }), submitted && !first_name && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block first_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 27\n        }\n      }, \"First Name is required.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"last_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 23\n        }\n      }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"last_name\",\n        className: 'form-input' + (submitted && !last_name ? ' error' : ''),\n        value: last_name,\n        onChange: this.handleChange,\n        disabled: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 23\n        }\n      }), submitted && !last_name && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block last_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 27\n        }\n      }, \"Last Name is required.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"form-btn\",\n        disabled: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 23\n        }\n      }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-spinner  fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 40\n        }\n      }), \" loading ...\") : \"Save\")))));\n    }\n  }]);\n\n  return Edit;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.edit.loading,\n    user: state.edit.user\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var get = actions.get,\n      update = actions.update;\n  return bindActionCreators({\n    get: get,\n    update: update\n  }, dispatch);\n};\n\nEdit.propTypes = {\n  loading: PropTypes.bool,\n  user: PropTypes.object,\n  get: PropTypes.func,\n  update: PropTypes.func\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Edit);","map":{"version":3,"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","get","PropTypes","Edit","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","id","match","params","submitted","state","first_name","last_name","avatar","update","nextProps","user","loading","title","mapStateToProps","edit","mapDispatchToProps","dispatch","propTypes","bool","object","func"],"sources":["/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/edit/edit.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport get from \"lodash/get\";\nimport PropTypes from \"prop-types\";\n\nexport class Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        first_name: \"\",\n        last_name: \"\",\n        avatar : \"\",\n        submitted: false,\n    };\n  }\n    componentDidMount() {\n        // get user by id\n        const {id} = this.props.match.params;\n        this.props.get(id);\n    }\n    componentWillReceiveProps(nextProps) {\n        const { user } = nextProps;\n        this.setState({\n                        first_name: get(user, \"first_name\", \"\") ,\n                        last_name : get(user, \"last_name\", \"\"),\n                        avatar : get(user, \"avatar\", \"\")\n                    }\n            );\n    }\n\n    handleChange = e => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    };\n    handleSubmit = e => {\n        e.preventDefault();\n        const {id} = this.props.match.params;\n        this.setState({ submitted: true });\n        const { first_name, last_name,avatar } = this.state;\n        // stop here if form is invalid\n        if (!(first_name && last_name && avatar)) {\n            return;\n        }\n        // call saga reducer\n        this.props.update(id,first_name, last_name,avatar)\n    };\n\n  render() {\n    const { loading } = this.props;\n    const { first_name, last_name, submitted  } = this.state;\n    const title = 'Edit';\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n          <div className=\"form-box\">\n              <form name=\"form\" onSubmit={this.handleSubmit}>\n                  <div className=\"form-group\">\n                      <label htmlFor=\"first_name\">First Name</label>\n                      <input\n                          type=\"text\"\n                          name=\"first_name\"\n                          className={'form-input' + (submitted && !first_name ? ' error' : '')}\n                          value={first_name}\n                          onChange={this.handleChange}\n                          disabled={loading}\n                      />\n                      {submitted && !first_name && (\n                          <div className=\"error-block first_name\">First Name is required.</div>\n                      )}\n                  </div>\n                  <div className=\"form-group\">\n                      <label htmlFor=\"last_name\">Last Name</label>\n                      <input\n                          type=\"text\"\n                          name=\"last_name\"\n                          className={'form-input' + (submitted && !last_name ? ' error' : '')}\n                          value={last_name}\n                          onChange={this.handleChange}\n                          disabled={loading}\n                      />\n                      {submitted && !last_name && (\n                          <div className=\"error-block last_name\">Last Name is required.</div>\n                      )}\n                  </div>\n                  <div className=\"form-group\">\n                      <button className=\"form-btn\" disabled={loading}>\n                          {loading ? <><i className=\"fas fa-spinner  fa-spin\"/> loading ...</> : \"Save\"}\n                      </button>\n                  </div>\n              </form>\n          </div>\n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.edit.loading,\n  user: state.edit.user\n});\nconst mapDispatchToProps = dispatch => {\n  const { get , update  } = actions;\n  return bindActionCreators({ get, update }, dispatch);\n};\nEdit.propTypes = {\n    loading : PropTypes.bool,\n    user : PropTypes.object,\n    get: PropTypes.func,\n    update: PropTypes.func,\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Edit);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}