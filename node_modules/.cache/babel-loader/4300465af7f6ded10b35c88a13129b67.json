{"ast":null,"code":"import _classCallCheck from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/home/usersList/usersList.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport UserLoading from \"../../../components/userLoading\";\nimport * as actions from \"./actions\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { Row, Avatar, UserInfo, Text } from \"./styles\";\nimport PropTypes from \"prop-types\";\nexport var UsersList = /*#__PURE__*/function (_Component) {\n  _inherits(UsersList, _Component);\n\n  var _super = _createSuper(UsersList);\n\n  function UsersList() {\n    var _this;\n\n    _classCallCheck(this, UsersList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.handleLoadMore = function (e) {\n      e.preventDefault();\n\n      _this.request();\n    };\n\n    _this.request = function () {\n      _this.props.get(\"&page=\" + _this.props.next_page);\n    };\n\n    _this.handleDelete = function (id, e) {\n      e.preventDefault();\n      var confirmed = window.confirm(\"Are you sure you want to delete this user?\");\n\n      if (confirmed) {\n        _this.props.deleteItem(id);\n      }\n    };\n\n    _this.renderFarm = function () {\n      var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      return items.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(Row, {\n          key: index,\n          id: item.id,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Avatar, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: item.avatar,\n          alt: item.first_name,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(UserInfo, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Text, {\n          color: \"firstname\",\n          className: \"firstname\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }\n        }, item.first_name), /*#__PURE__*/React.createElement(Text, {\n          color: \"lastname\",\n          className: \"lastname\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }\n        }, item.last_name)), /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn delete\",\n          onClick: function onClick(e) {\n            return _this.handleDelete(item.id, e);\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }\n        }, \"Delete\"));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UsersList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.total_pages >= this.props.next_page) {\n        this.request();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          loading = _this$props.loading,\n          next_page = _this$props.next_page,\n          total_pages = _this$props.total_pages,\n          failure = _this$props.failure;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.renderFarm(data), /*#__PURE__*/React.createElement(UserLoading, {\n        isLoading: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, total_pages >= next_page && !loading && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn load_more\",\n        onClick: this.handleLoadMore,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }, \"Recargar\"), failure && !loading && /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn try_again\",\n        onClick: this.handleLoadMore,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, \"Try again\")));\n    }\n  }]);\n\n  return UsersList;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.usersList.loading,\n    failure: state.usersList.failure,\n    data: state.usersList.data,\n    next_page: state.usersList.next_page,\n    total_pages: state.usersList.total_pages\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var get = actions.get,\n      deleteItem = actions.deleteItem;\n  return bindActionCreators({\n    get: get,\n    deleteItem: deleteItem\n  }, dispatch);\n};\n\nUsersList.propTypes = {\n  loading: PropTypes.bool,\n  failure: PropTypes.bool,\n  data: PropTypes.array,\n  next_page: PropTypes.number,\n  total_pages: PropTypes.number,\n  get: PropTypes.func,\n  deleteItem: PropTypes.func\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);","map":{"version":3,"names":["React","Component","UserLoading","actions","bindActionCreators","connect","NavLink","Row","Avatar","UserInfo","Text","PropTypes","UsersList","handleLoadMore","e","preventDefault","request","props","get","next_page","handleDelete","id","confirmed","window","confirm","deleteItem","renderFarm","items","map","item","index","avatar","first_name","last_name","total_pages","data","loading","failure","textAlign","mapStateToProps","state","usersList","mapDispatchToProps","dispatch","propTypes","bool","array","number","func"],"sources":["/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/home/usersList/usersList.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport UserLoading from \"../../../components/userLoading\";\nimport * as actions from \"./actions\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { Row, Avatar, UserInfo, Text } from \"./styles\";\nimport PropTypes from \"prop-types\";\n\nexport class UsersList extends Component {\n  componentDidMount() {\n    \n    if (this.props.total_pages >= this.props.next_page) {\n      this.request();\n    }\n  }\n  handleLoadMore = e => {\n    e.preventDefault();\n    this.request();\n  };\n  request = () => {\n    this.props.get(\"&page=\" + this.props.next_page);\n  };\n  handleDelete = (id, e) => {\n    e.preventDefault();\n    const confirmed = window.confirm(\n      \"Are you sure you want to delete this user?\"\n    );\n    if (confirmed) {\n      this.props.deleteItem(id);\n    }\n  };\n  renderFarm = (items =[]) => {\n    return items.map((item, index) => {\n      return (\n        <Row key={index} id={item.id}>\n          <Avatar>\n            <img src={item.avatar} alt={item.first_name} />\n          </Avatar>\n          <UserInfo>\n            <Text color={\"firstname\"} className='firstname'>{item.first_name}</Text>\n            <Text color={\"lastname\"}  className='lastname'>{item.last_name}</Text>\n          </UserInfo>\n          <button\n            className=\"btn delete\"\n            onClick={e => this.handleDelete(item.id, e)}\n          >\n            Delete\n          </button>\n          \n        </Row>\n      );\n    });\n  };\n  render() {\n    const { data, loading, next_page, total_pages, failure } = this.props;\n    return (\n      <>\n        {this.renderFarm(data)}\n        <UserLoading isLoading={loading} />\n        <div style={{ textAlign: \"center\" }}>\n          {total_pages >= next_page && !loading && (\n            <button className=\"btn load_more\" onClick={this.handleLoadMore}>\n              Recargar\n            </button>\n          )}\n          {failure && !loading && (\n            <button className=\"btn try_again\" onClick={this.handleLoadMore}>\n              Try again\n            </button>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  loading: state.usersList.loading,\n  failure: state.usersList.failure,\n  data: state.usersList.data,\n  next_page: state.usersList.next_page,\n  total_pages: state.usersList.total_pages\n});\nconst mapDispatchToProps = dispatch => {\n  const { get, deleteItem } = actions;\n  return bindActionCreators(\n    { get, deleteItem },\n    dispatch\n  );\n};\nUsersList.propTypes = {\n    loading : PropTypes.bool,\n    failure: PropTypes.bool,\n    data: PropTypes.array,\n    next_page: PropTypes.number,\n    total_pages: PropTypes.number,\n    get: PropTypes.func,\n    deleteItem: PropTypes.func,\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UsersList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}