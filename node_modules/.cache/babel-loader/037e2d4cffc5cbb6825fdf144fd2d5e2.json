{"ast":null,"code":"import _defineProperty from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/login/login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nexport var Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        submitted: true\n      });\n\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password; // stop here if form is invalid\n\n      if (!(email && password)) {\n        return;\n      } // call saga reducer\n\n\n      _this.props.attempt(email, password);\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false\n    };\n\n    if (localStorage.getItem(\"authToken\")) {\n      _this.props.history.push('/');\n    }\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var loading = this.props.loading;\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          submitted = _this$state2.submitted;\n      var title = \"Login\";\n      return /*#__PURE__*/React.createElement(DefaultLayout, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(PublicHead, {\n        title: title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        name: \"form\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        className: 'form-input' + (submitted && !email ? ' error' : ''),\n        value: email,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }\n      }), submitted && !email && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block  email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, \"Email is required.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        className: 'form-input' + (submitted && !password ? ' error' : ''),\n        value: password,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }), submitted && !password && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"error-block password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, \"Password is required.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"form-btn\",\n        disabled: loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }\n      }, loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-spinner  fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 32\n        }\n      }), \" loading ...\") : \"Login\")), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }\n      }, \"Don't have an account? \", /*#__PURE__*/React.createElement(NavLink, {\n        exact: true,\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 44\n        }\n      }, \" Sign up\"), \" \"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.login.loading\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  var attempt = actions.attempt;\n  return bindActionCreators({\n    attempt: attempt\n  }, dispatch);\n};\n\nLogin.propTypes = {\n  loading: PropTypes.bool,\n  attempt: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired\n  })\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"names":["React","Component","bindActionCreators","actions","connect","PublicHead","DefaultLayout","NavLink","PropTypes","Login","props","handleChange","e","target","name","value","setState","handleSubmit","preventDefault","submitted","state","email","password","attempt","localStorage","getItem","history","push","loading","title","mapStateToProps","login","mapDispatchToProps","dispatch","propTypes","bool","func","shape","isRequired"],"sources":["/Users/openmbpro/Desktop/reactjs-reqres.in-master/src/pages/login/login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./actions\";\nimport { connect } from \"react-redux\";\nimport PublicHead from \"../../components/publicHead\";\nimport DefaultLayout from \"../../layouts/defaultLayout\";\nimport {NavLink} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      submitted: false,\n    };\n    if(localStorage.getItem(\"authToken\")){\n          this.props.history.push('/')\n    }\n  }\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ submitted: true });\n    const { email, password } = this.state;\n    // stop here if form is invalid\n    if (!(email && password)) {\n      return;\n    }\n    // call saga reducer\n    this.props.attempt(email,password)\n  };\n  render() {\n    const { loading } = this.props;\n    const { email, password, submitted  } = this.state;\n    const title = \"Login\";\n    return (\n      <DefaultLayout title={title}>\n        <PublicHead title={title} />\n        <div className=\"form-box\">\n          <form name=\"form\" onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"email\"\n                name=\"email\"\n                className={'form-input' + (submitted && !email ? ' error' : '')}\n                value={email}\n                onChange={this.handleChange}\n              />\n              {submitted && !email && (\n                <div className=\"error-block  email\">Email is required.</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                className={'form-input' + (submitted && !password ? ' error' : '')}\n                value={password}\n                onChange={this.handleChange}\n              />\n              {submitted && !password && (\n                <div className=\"error-block password\">Password is required.</div>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <button className=\"form-btn\" disabled={loading}>\n                  {loading ? <><i className=\"fas fa-spinner  fa-spin\"/> loading ...</> : \"Login\"}\n              </button>\n            </div>\n              <span>Don't have an account? <NavLink exact to='/signup'> Sign up</NavLink> </span>\n          </form>\n        </div>\n      </DefaultLayout>\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  loading: state.login.loading\n});\nconst mapDispatchToProps = dispatch => {\n  const { attempt  } = actions;\n  return bindActionCreators({ attempt }, dispatch);\n};\nLogin.propTypes = {\n    loading : PropTypes.bool,\n    attempt: PropTypes.func,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    })\n};\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}